-- MySQL dump 10.13  Distrib 8.4.8, for Linux (x86_64)
--
-- Host: localhost    Database: trabunda_prod
-- ------------------------------------------------------
-- Server version	8.4.8

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `areas`
--

DROP TABLE IF EXISTS `areas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `areas` (
  `id` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `es_apoyo_horas` tinyint(1) DEFAULT '0',
  `es_conteo_rapido` tinyint(1) DEFAULT '0',
  `es_trabajo_avance` tinyint(1) DEFAULT '0',
  `activo` tinyint(1) DEFAULT '1',
  `creado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_areas_modulos` (`es_apoyo_horas`,`es_conteo_rapido`,`es_trabajo_avance`,`nombre`)
) ENGINE=InnoDB AUTO_INCREMENT=519 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `areas`
--

LOCK TABLES `areas` WRITE;
/*!40000 ALTER TABLE `areas` DISABLE KEYS */;
INSERT INTO `areas` VALUES (433,'RECEPCION',0,1,1,1,'2026-02-18 19:45:51'),(434,'FILTEROS',0,1,1,1,'2026-02-18 19:45:51'),(435,'APOYO FILETEROS',0,1,0,1,'2026-02-18 19:45:51'),(436,'LAVADO DE PICOS',0,1,0,1,'2026-02-18 19:45:51'),(437,'FILTRO DE PICOS',0,1,0,1,'2026-02-18 19:45:51'),(438,'LAVADORES DE FILETE',0,1,0,1,'2026-02-18 19:45:51'),(439,'CORTADOR DE REJOS',0,1,0,1,'2026-02-18 19:45:51'),(440,'PESADORES DE LAVADO',0,1,0,1,'2026-02-18 19:45:51'),(441,'LAVADORES DE NUCA',0,1,0,1,'2026-02-18 19:45:51'),(442,'PESADOR DE NUCAS',0,1,0,1,'2026-02-18 19:45:51'),(443,'CLASIFICADO DE FILETE',0,1,0,1,'2026-02-18 19:45:51'),(444,'APOYOS DE LAVADO',0,1,0,1,'2026-02-18 19:45:51'),(445,'PESADOR DE NUCAS',0,1,0,1,'2026-02-18 19:45:51'),(446,'ROTULADORES',0,1,0,1,'2026-02-18 19:45:51'),(447,'MAQUINAS PELADORAS',0,1,0,1,'2026-02-18 19:45:51'),(448,'MAQUINAS LAMINADORAS',0,1,0,1,'2026-02-18 19:45:51'),(449,'MAQUINAS ORUGAS',0,1,0,1,'2026-02-18 19:45:51'),(450,'CONTROL DE ORUGAS',0,1,0,1,'2026-02-18 19:45:51'),(451,'CORTADOR DE ANILLAS',0,1,0,1,'2026-02-18 19:45:51'),(452,'CLASIFICADORA DE ANILLAS',0,1,0,1,'2026-02-18 19:45:51'),(453,'APOYO ANILLAS',0,1,0,1,'2026-02-18 19:45:51'),(454,'PESADOR DE ANILLAS',0,1,0,1,'2026-02-18 19:45:51'),(455,'COCINERO',0,1,0,1,'2026-02-18 19:45:51'),(456,'HIELERO',0,1,0,1,'2026-02-18 19:45:51'),(457,'OPERADOR DE TRATAMIENTO',0,1,0,1,'2026-02-18 19:45:51'),(458,'APOYO DE TRATAMIENTO',0,1,0,1,'2026-02-18 19:45:51'),(459,'ENVASADO',0,1,0,1,'2026-02-18 19:45:51'),(460,'CONTROL DE ENVASADO',0,1,0,1,'2026-02-18 19:45:51'),(461,'EMPAQUE BLOCK',0,1,0,1,'2026-02-18 19:45:51'),(462,'CONTROLADORES DE PLACAS',0,1,0,1,'2026-02-18 19:45:51'),(463,'CONTROLADORES DE PESOS EMPAQUE',0,1,0,1,'2026-02-18 19:45:51'),(464,'CORTE DE RODAJA MANUAL',0,1,0,1,'2026-02-18 19:45:51'),(465,'APOYO DE CORTE DE RODAJAS',0,1,0,1,'2026-02-18 19:45:51'),(466,'PESADOR DE RODAJAS CORTE MANUAL',0,1,0,1,'2026-02-18 19:45:51'),(467,'IQF 1',0,1,0,1,'2026-02-18 19:45:51'),(468,'IQF 2',0,1,0,1,'2026-02-18 19:45:51'),(469,'IQF 3',0,1,0,1,'2026-02-18 19:45:51'),(470,'IQF 4',0,1,0,1,'2026-02-18 19:45:51'),(471,'CORTE DE RODAJAS MAQUINA RABERA',0,1,0,1,'2026-02-18 19:45:51'),(472,'IQF 6(CORTE Y CONGELAMIENTO DE RODAJAS)',0,1,0,1,'2026-02-18 19:45:51'),(473,'IQF 5(CONGELAMIENTO REJO O REPRODUCTOR)',0,1,0,1,'2026-02-18 19:45:51'),(474,'GLASEADOR',0,1,0,1,'2026-02-18 19:45:51'),(475,'EMPAQUE IQF',0,1,0,1,'2026-02-18 19:45:51'),(476,'FILTROS MULTICABEZAL',0,1,0,1,'2026-02-18 19:45:51'),(477,'APOYO PRE CAMARA',0,1,0,1,'2026-02-18 19:45:51'),(478,'OPERADOR DE VIDEOJET',0,1,0,1,'2026-02-18 19:45:51'),(479,'ROTULADOR DE VIDEOJET',0,1,0,1,'2026-02-18 19:45:51'),(480,'APOYO VIDEOJET',0,1,0,1,'2026-02-18 19:45:51'),(481,'EMBARQUE',0,1,0,1,'2026-02-18 19:45:51'),(482,'ETIQUETADO',0,1,0,1,'2026-02-18 19:45:51'),(483,'DETECTOR DE METALES',0,1,0,1,'2026-02-18 19:45:51'),(484,'ALMACENAMIENTO',0,1,0,1,'2026-02-18 19:45:51'),(485,'APOYOS ALMACEN',0,1,0,1,'2026-02-18 19:45:51'),(486,'SANEAMIENTO',0,1,0,1,'2026-02-18 19:45:51'),(487,'LAVANDERIA',0,1,0,1,'2026-02-18 19:45:51'),(488,'JEFE DE TURNO',0,1,0,1,'2026-02-18 19:45:51'),(489,'SUPERVISORES',0,1,0,1,'2026-02-18 19:45:51'),(490,'ROTULADOR-ZONA PRIMARIA',1,0,0,1,'2026-02-19 20:42:00'),(491,'PESADORES-FILETE',1,0,0,1,'2026-02-19 20:42:00'),(492,'APOYO LAVADO',1,0,0,1,'2026-02-19 20:42:00'),(493,'PESADORES-NUCAS',1,0,0,1,'2026-02-19 20:42:00'),(494,'PESADORES-ANILLAS',1,0,0,1,'2026-02-19 20:42:00'),(495,'APOYO ANILLAS',1,0,0,1,'2026-02-19 20:42:00'),(496,'APOYO REVISADO ANILLAS',1,0,0,1,'2026-02-19 20:42:00'),(497,'CTRL-ORUGAS',1,0,0,1,'2026-02-19 20:42:00'),(498,'OPERADOR DE TRATAMIENTO',1,0,0,1,'2026-02-19 20:42:00'),(499,'APOYO TRATAMIENTO',1,0,0,1,'2026-02-19 20:42:00'),(500,'HIELERO',1,0,0,1,'2026-02-19 20:42:00'),(501,'DESCONGELAR PRODUCTO',1,0,0,1,'2026-02-19 20:42:00'),(502,'CTRL-ENVASADO BLOCK',1,0,0,1,'2026-02-19 20:42:00'),(503,'GLASEADOR',1,0,0,1,'2026-02-19 20:42:00'),(504,'APOYO ENVASADO TC(PALETEROS)',1,0,0,1,'2026-02-19 20:42:00'),(505,'APOYO RECIBIR PRODUCTO TC',1,0,0,1,'2026-02-19 20:42:00'),(506,'FILTRO MULTICABEZAL',1,0,0,1,'2026-02-19 20:42:00'),(507,'CTRL-PLACAS',1,0,0,1,'2026-02-19 20:42:00'),(508,'CTRL-PESOS',1,0,0,1,'2026-02-19 20:42:00'),(509,'CARGA DE PLACAS',1,0,0,1,'2026-02-19 20:42:00'),(510,'APOYO PRECAMARA NAVE III',1,0,0,1,'2026-02-19 20:42:00'),(511,'APOYO PRECAMARA NAVE I',1,0,0,1,'2026-02-19 20:42:00'),(512,'OPERADOR VIDEO JET',1,0,0,1,'2026-02-19 20:42:00'),(513,'APOYO VIDEO JET',1,0,0,1,'2026-02-19 20:42:00'),(514,'VIDEO JET- ROTULADORES',1,0,0,1,'2026-02-19 20:42:00'),(515,'LAVANDERIA',1,0,0,1,'2026-02-19 20:42:00'),(516,'APOYO GENERAL',1,0,0,1,'2026-02-19 20:42:00'),(517,'SUPERVISOR',1,0,0,1,'2026-02-19 20:42:00'),(518,'PLANILLERO',1,0,0,1,'2026-02-19 20:42:00');
/*!40000 ALTER TABLE `areas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `conteo_rapido_area_orden`
--

DROP TABLE IF EXISTS `conteo_rapido_area_orden`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `conteo_rapido_area_orden` (
  `area_id` int NOT NULL,
  `orden` int NOT NULL,
  PRIMARY KEY (`area_id`),
  CONSTRAINT `fk_cr_area_orden_area` FOREIGN KEY (`area_id`) REFERENCES `areas` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `conteo_rapido_area_orden`
--

LOCK TABLES `conteo_rapido_area_orden` WRITE;
/*!40000 ALTER TABLE `conteo_rapido_area_orden` DISABLE KEYS */;
/*!40000 ALTER TABLE `conteo_rapido_area_orden` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `conteo_rapido_detalle`
--

DROP TABLE IF EXISTS `conteo_rapido_detalle`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `conteo_rapido_detalle` (
  `id` int NOT NULL AUTO_INCREMENT,
  `reporte_id` int NOT NULL,
  `area_id` int NOT NULL,
  `cantidad` int NOT NULL DEFAULT '0',
  `creado_en` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_reporte_area` (`reporte_id`,`area_id`),
  KEY `area_id` (`area_id`),
  CONSTRAINT `conteo_rapido_detalle_ibfk_1` FOREIGN KEY (`reporte_id`) REFERENCES `reportes` (`id`),
  CONSTRAINT `conteo_rapido_detalle_ibfk_2` FOREIGN KEY (`area_id`) REFERENCES `areas` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=217 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `conteo_rapido_detalle`
--

LOCK TABLES `conteo_rapido_detalle` WRITE;
/*!40000 ALTER TABLE `conteo_rapido_detalle` DISABLE KEYS */;
INSERT INTO `conteo_rapido_detalle` VALUES (153,143,485,2,'2026-02-19 13:48:26'),(154,143,483,2,'2026-02-19 13:48:26'),(155,143,481,11,'2026-02-19 13:48:26'),(156,143,475,4,'2026-02-19 13:48:26'),(157,143,482,2,'2026-02-19 13:48:26'),(158,143,476,2,'2026-02-19 13:48:26'),(159,143,468,20,'2026-02-19 13:48:26'),(160,143,488,1,'2026-02-19 13:48:26'),(161,143,487,1,'2026-02-19 13:48:26'),(162,143,457,1,'2026-02-19 13:48:26'),(163,143,478,1,'2026-02-19 13:48:26'),(164,143,486,14,'2026-02-19 13:48:26'),(165,143,489,6,'2026-02-19 13:48:26'),(166,154,435,2,'2026-02-23 20:54:00'),(167,154,480,1,'2026-02-23 20:54:00'),(168,154,443,1,'2026-02-23 20:54:00'),(169,154,455,1,'2026-02-23 20:54:00'),(170,154,460,1,'2026-02-23 20:54:00'),(171,154,450,2,'2026-02-23 20:54:00'),(172,154,463,1,'2026-02-23 20:54:00'),(173,154,462,1,'2026-02-23 20:54:00'),(174,154,461,12,'2026-02-23 20:54:00'),(175,154,459,26,'2026-02-23 20:54:00'),(176,154,434,21,'2026-02-23 20:54:00'),(177,154,456,1,'2026-02-23 20:54:00'),(178,154,473,14,'2026-02-23 20:54:00'),(179,154,438,38,'2026-02-23 20:54:00'),(180,154,441,7,'2026-02-23 20:54:00'),(181,154,487,1,'2026-02-23 20:54:00'),(182,154,449,9,'2026-02-23 20:54:00'),(183,154,447,2,'2026-02-23 20:54:00'),(184,154,457,1,'2026-02-23 20:54:00'),(185,154,478,1,'2026-02-23 20:54:00'),(186,154,445,1,'2026-02-23 20:54:00'),(187,154,440,2,'2026-02-23 20:54:00'),(188,154,433,4,'2026-02-23 20:54:00'),(189,154,446,2,'2026-02-23 20:54:00'),(190,154,486,12,'2026-02-23 20:54:00'),(191,154,489,6,'2026-02-23 20:54:00'),(192,158,435,2,'2026-02-24 21:09:07'),(193,158,443,1,'2026-02-24 21:09:07'),(194,158,455,2,'2026-02-24 21:09:07'),(195,158,460,1,'2026-02-24 21:09:07'),(196,158,450,2,'2026-02-24 21:09:07'),(197,158,463,1,'2026-02-24 21:09:07'),(198,158,462,1,'2026-02-24 21:09:07'),(199,158,461,11,'2026-02-24 21:09:07'),(200,158,459,31,'2026-02-24 21:09:07'),(201,158,434,21,'2026-02-24 21:09:07'),(202,158,473,9,'2026-02-24 21:09:07'),(203,158,488,1,'2026-02-24 21:09:07'),(204,158,438,32,'2026-02-24 21:09:07'),(205,158,441,9,'2026-02-24 21:09:07'),(206,158,487,1,'2026-02-24 21:09:07'),(207,158,449,8,'2026-02-24 21:09:07'),(208,158,447,2,'2026-02-24 21:09:07'),(209,158,457,1,'2026-02-24 21:09:07'),(210,158,478,1,'2026-02-24 21:09:07'),(211,158,442,1,'2026-02-24 21:09:07'),(212,158,440,2,'2026-02-24 21:09:07'),(213,158,433,4,'2026-02-24 21:09:07'),(214,158,446,1,'2026-02-24 21:09:07'),(215,158,486,12,'2026-02-24 21:09:07'),(216,158,489,6,'2026-02-24 21:09:07');
/*!40000 ALTER TABLE `conteo_rapido_detalle` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `cuadrillas`
--

DROP TABLE IF EXISTS `cuadrillas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cuadrillas` (
  `id` int NOT NULL AUTO_INCREMENT,
  `reporte_id` int NOT NULL,
  `nombre` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `area` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `kilos` decimal(10,2) DEFAULT NULL,
  `hora_inicio` time DEFAULT NULL,
  `hora_fin` time DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_cuadrillas_reporte` (`reporte_id`),
  CONSTRAINT `cuadrillas_ibfk_1` FOREIGN KEY (`reporte_id`) REFERENCES `reportes` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cuadrillas`
--

LOCK TABLES `cuadrillas` WRITE;
/*!40000 ALTER TABLE `cuadrillas` DISABLE KEYS */;
/*!40000 ALTER TABLE `cuadrillas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `lineas_reporte`
--

DROP TABLE IF EXISTS `lineas_reporte`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `lineas_reporte` (
  `id` int NOT NULL AUTO_INCREMENT,
  `reporte_id` int NOT NULL,
  `trabajador_id` int DEFAULT NULL,
  `cuadrilla_id` int DEFAULT NULL,
  `area_id` int DEFAULT NULL,
  `area_nombre` varchar(126) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `trabajador_codigo` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `trabajador_nombre` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `trabajador_documento` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `horas` decimal(5,2) DEFAULT NULL,
  `hora_inicio` time DEFAULT NULL,
  `hora_fin` time DEFAULT NULL,
  `kilos` decimal(10,2) DEFAULT NULL,
  `labores` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `cuadrilla_id` (`cuadrilla_id`),
  KEY `idx_lineas_reporte_reporte` (`reporte_id`),
  KEY `idx_lineas_reporte_reporte_trabajador_codigo` (`reporte_id`,`trabajador_codigo`),
  CONSTRAINT `lineas_reporte_ibfk_1` FOREIGN KEY (`reporte_id`) REFERENCES `reportes` (`id`) ON DELETE CASCADE,
  CONSTRAINT `lineas_reporte_ibfk_3` FOREIGN KEY (`cuadrilla_id`) REFERENCES `cuadrillas` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=99 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `lineas_reporte`
--

LOCK TABLES `lineas_reporte` WRITE;
/*!40000 ALTER TABLE `lineas_reporte` DISABLE KEYS */;
INSERT INTO `lineas_reporte` VALUES (86,146,29538,NULL,492,'APOYO LAVADO','29538','',NULL,2.30,'15:42:00','18:00:00',NULL,NULL),(87,147,12807,NULL,NULL,NULL,'12807','ARTEMIO CRUZ OCHOA','48750777',-11.63,'17:38:00','06:00:00',NULL,'limpieza de aros'),(88,149,17507,NULL,516,'APOYO GENERAL','17507','',NULL,3.17,'18:35:00','21:45:00',NULL,NULL),(89,150,29538,NULL,505,'APOYO RECIBIR PRODUCTO TC','29538','',NULL,6.63,'11:22:00','18:00:00',NULL,NULL),(90,151,28293,NULL,NULL,NULL,'28293','IVAN ALEXANDER NIMA MENDOZA','79136144',2.52,'15:29:00','18:00:00',NULL,'saneamienton'),(91,157,32000,NULL,NULL,NULL,'32000','JOSE YSRRAEL VEGA YNFANTE','41315372',-12.75,'18:45:00','06:00:00',NULL,'lavado de tablillas'),(92,157,32441,NULL,NULL,NULL,'32441','DIANA LISBETH QUISPE CHAVEZ','48450488',-12.77,'18:46:00','06:00:00',NULL,'lavado de materiales'),(93,157,2074,NULL,NULL,NULL,'02074','LUZ MARIA CHAVEZ SUAREZ','80498081',-12.78,'18:47:00','06:00:00',NULL,'pedilubio'),(94,157,30046,NULL,NULL,NULL,'30046','LUIS MORALES AGURTO','63076604',-12.78,'18:47:00','06:00:00',NULL,'reciduos'),(95,157,31392,NULL,NULL,NULL,'31392','MARCOS ANTHONY HUAMAN SOLANO','74777296',-12.80,'18:48:00','06:00:00',NULL,'lavado  de máquina  peladoras'),(96,157,12093,NULL,NULL,NULL,'12093','JESUS ALBERTO SOSA CHERO','03675785',-12.82,'18:49:00','06:00:00',NULL,'limpieza  nave 1'),(97,157,28989,NULL,NULL,NULL,'28989','SIGNI LOHANA FLORES VALDIVIEZO','76134332',-12.82,'18:49:00','06:00:00',NULL,'lavado  de ollas estaticas'),(98,157,34504,NULL,NULL,NULL,'34504','ROSA ELIZABETH ESPINOZA CRUZ','40628195',-12.83,'18:50:00','06:00:00',NULL,'envasado nave 2');
/*!40000 ALTER TABLE `lineas_reporte` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `refresh_tokens`
--

DROP TABLE IF EXISTS `refresh_tokens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `refresh_tokens` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `token_hash` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `expires_at` datetime NOT NULL,
  `revoked_at` datetime DEFAULT NULL,
  `last_used_at` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_refresh_token_hash` (`token_hash`),
  KEY `idx_refresh_tokens_user` (`user_id`),
  KEY `idx_refresh_tokens_expires` (`expires_at`),
  CONSTRAINT `fk_refresh_token_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=147 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `refresh_tokens`
--

LOCK TABLES `refresh_tokens` WRITE;
/*!40000 ALTER TABLE `refresh_tokens` DISABLE KEYS */;
INSERT INTO `refresh_tokens` VALUES (123,1,'815fff3fce91397c14b812033b8041b900de69be3322d7d5fb7176291b0341e5','2026-03-20 16:53:07',NULL,NULL,'2026-02-18 16:53:07'),(124,1,'027668c81fe37c726f51f7fab6484822622d47e82f45b3edff7368c21b089b45','2026-03-20 16:58:24',NULL,NULL,'2026-02-18 16:58:24'),(125,9,'b7dadeb8437caf0ac3ae39a3c5ca7c388564f00885f99d95751002e21c34e53a','2026-03-20 17:02:30',NULL,NULL,'2026-02-18 17:02:30'),(126,9,'848d0d2fbe207408f4d3b45d427bbc9a27187bfc213c66e7384ce66c000bc7e9','2026-03-20 17:08:46',NULL,NULL,'2026-02-18 17:08:46'),(127,1,'ac615923fdf4ae1bcb3476ffcc9e9bedbc782f890239421a1b404c85460f2b5d','2026-03-20 20:01:58',NULL,NULL,'2026-02-18 20:01:58'),(128,9,'1788f6594daf8f00dac5fe633581ff87b88872204c428cfda803f8256328429d','2026-03-21 13:40:54',NULL,NULL,'2026-02-19 13:40:54'),(129,1,'cb7c9ace84cb60ba0538c4b907b0bbd104bf90ffaf27a93c57ffb71f2a2c3ebe','2026-03-21 14:27:57',NULL,NULL,'2026-02-19 14:27:56'),(130,1,'1b1b243d1a03ac49298050e0bbca2a0699d2902bfd3af8c641f6ac0b32731cd2','2026-03-21 16:10:47',NULL,NULL,'2026-02-19 21:10:47'),(131,1,'804a57478eba1a23b7d6e90bafc3c5a3291287c98d7efd945f584d5aac342c7f','2026-03-21 17:19:33',NULL,NULL,'2026-02-19 22:19:32'),(132,1,'0f363d5c82093b7b353f1cbca91795bfa51fe49d3f72b0e7ca92d3e9767df6a3','2026-03-21 17:19:35',NULL,NULL,'2026-02-19 22:19:34'),(133,1,'85b8b8527fc60b6112a8f283be356a04ca7b3eb596430c31f5b582806eaf5b07','2026-03-21 17:19:36',NULL,NULL,'2026-02-19 22:19:35'),(134,13,'2256f830411cfd019124350e1df1ccdb517b78ba53b1af0956196736ec909b6e','2026-03-21 17:37:43',NULL,NULL,'2026-02-19 22:37:43'),(135,1,'53ad7a06b6c5da0e0116ef98d733beacd1d276510cbe2e1e870b6a3f08636938','2026-03-22 11:21:56',NULL,NULL,'2026-02-20 16:21:55'),(136,12,'0bb85659e09d5c24436b1423d764e4ced5daa1c09a89b61b96f3f587bbac8736','2026-03-22 16:35:49',NULL,NULL,'2026-02-20 21:35:49'),(137,12,'200649dbf64387c62dca8892981d110057e2d6ebb1618cfcc6644daa58fe7300','2026-03-25 15:28:26',NULL,NULL,'2026-02-23 20:28:25'),(138,9,'cfa797af6f9ee04df5b85c91c09e760d4a6300c5c495757473679dfea9c09a24','2026-03-25 19:48:58',NULL,NULL,'2026-02-24 00:48:57'),(139,1,'5672e663d626ae6b14fcf2a1e1c03695f48680cee08d436a6ec47ee97906b70d','2026-03-26 09:20:34',NULL,NULL,'2026-02-24 14:20:33'),(140,11,'eb86a6623d517b7e57dc80a2bfced6149a36a46e2b567d744453eec072066a29','2026-03-26 18:44:22',NULL,NULL,'2026-02-24 23:44:22'),(141,9,'53a930378b7fda2b90e72167ee9d3bf1a46208e85b6e97cb1458a45d71e8844f','2026-03-26 19:41:57',NULL,NULL,'2026-02-25 00:41:56'),(142,1,'723752ab3aca19e2e473faa53066e5d730c73aa8321bb0a40be42f58f01b7ce4','2026-03-27 07:45:43',NULL,NULL,'2026-02-25 12:45:43'),(143,12,'2d42a7fa493232657910158cf919a85eb974a520563000e702e62d14e668196c','2026-03-27 10:01:49',NULL,NULL,'2026-02-25 15:01:48'),(144,12,'7571216c4fa972109d4152e9a662db73f8a5eb449dd2e6e7c430137a70342930','2026-03-27 10:01:53',NULL,NULL,'2026-02-25 15:01:52'),(145,11,'fa176af587510cf90a49c5e9a40cc77a88e2a3908896f6ad10f55392dc0c8709','2026-03-27 10:07:52',NULL,NULL,'2026-02-25 15:07:51'),(146,12,'1347200d921898eef1087056b7f11a8d94d9fbf9c8f76d0de146488b1540221f','2026-03-27 10:10:34',NULL,NULL,'2026-02-25 15:10:34');
/*!40000 ALTER TABLE `refresh_tokens` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `reportes`
--

DROP TABLE IF EXISTS `reportes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `reportes` (
  `id` int NOT NULL AUTO_INCREMENT,
  `fecha` date NOT NULL,
  `turno` enum('Dia','Noche') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `tipo_reporte` enum('SANEAMIENTO','APOYO_HORAS','TRABAJO_AVANCE','CONTEO_RAPIDO') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `area_id` int DEFAULT NULL,
  `area` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `creado_por_user_id` int NOT NULL,
  `creado_por_nombre` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `observaciones` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `creado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `activo` tinyint(1) NOT NULL DEFAULT '1',
  `estado` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ABIERTO',
  `vence_en` datetime DEFAULT NULL,
  `cerrado_en` datetime DEFAULT NULL,
  `apoyo_horas_key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci GENERATED ALWAYS AS ((case when (`tipo_reporte` = _utf8mb4'APOYO_HORAS') then concat(`creado_por_user_id`,_utf8mb4'|',`fecha`,_utf8mb4'|',`turno`) else NULL end)) STORED,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_apoyo_horas_key` (`apoyo_horas_key`),
  KEY `idx_reportes_fecha_tipo` (`fecha`,`tipo_reporte`),
  KEY `idx_reportes_area` (`area`),
  KEY `fk_reportes_areas` (`area_id`),
  KEY `fk_reportes_users` (`creado_por_user_id`),
  KEY `idx_reportes_abiertos` (`tipo_reporte`,`creado_por_user_id`,`turno`,`estado`,`vence_en`),
  CONSTRAINT `fk_reportes_areas` FOREIGN KEY (`area_id`) REFERENCES `areas` (`id`),
  CONSTRAINT `fk_reportes_users` FOREIGN KEY (`creado_por_user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=159 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `reportes`
--

LOCK TABLES `reportes` WRITE;
/*!40000 ALTER TABLE `reportes` DISABLE KEYS */;
INSERT INTO `reportes` (`id`, `fecha`, `turno`, `tipo_reporte`, `area_id`, `area`, `creado_por_user_id`, `creado_por_nombre`, `observaciones`, `creado_en`, `activo`, `estado`, `vence_en`, `cerrado_en`) VALUES (140,'2026-02-18','Dia','APOYO_HORAS',NULL,'POR_TRABAJADOR',1,'Yorby Correa Pacherres',NULL,'2026-02-18 19:34:31',1,'ABIERTO','2026-02-19 00:00:00',NULL),(141,'2026-02-18','Dia','CONTEO_RAPIDO',NULL,'POR_AREAS',1,'Yorby Correa Pacherres',NULL,'2026-02-18 19:46:07',1,'ABIERTO',NULL,NULL),(142,'2026-02-18','Dia','TRABAJO_AVANCE',NULL,'POR_CUADRILLA',1,'Yorby Correa Pacherres',NULL,'2026-02-18 19:46:23',1,'ABIERTO',NULL,NULL),(143,'2026-02-19','Dia','CONTEO_RAPIDO',NULL,'POR_AREAS',9,'Melissa Serna Flores',NULL,'2026-02-19 13:40:59',1,'CERRADO',NULL,'2026-02-19 13:48:26'),(144,'2026-02-19','Dia','TRABAJO_AVANCE',NULL,'POR_CUADRILLA',1,'Yorby Correa Pacherres',NULL,'2026-02-19 14:27:59',1,'CERRADO',NULL,NULL),(145,'2026-02-19','Dia','CONTEO_RAPIDO',NULL,'POR_AREAS',1,'Yorby Correa Pacherres',NULL,'2026-02-19 15:25:06',1,'ABIERTO',NULL,NULL),(146,'2026-02-19','Dia','APOYO_HORAS',NULL,'POR_TRABAJADOR',1,'Yorby Correa Pacherres',NULL,'2026-02-19 20:42:24',1,'CERRADO','2026-02-20 00:00:00','2026-02-19 15:42:47'),(147,'2026-02-19','Dia','SANEAMIENTO',NULL,'SANEAMIENTO',13,'Cruz Ochoa Artemio',NULL,'2026-02-19 22:37:51',1,'CERRADO','2026-02-20 17:37:52','2026-02-19 17:38:48'),(148,'2026-02-19','Noche','APOYO_HORAS',NULL,'POR_TRABAJADOR',1,'Yorby Correa Pacherres',NULL,'2026-02-19 23:34:34',1,'ABIERTO','2026-02-20 00:00:00',NULL),(149,'2026-02-20','Noche','APOYO_HORAS',NULL,'POR_TRABAJADOR',1,'Yorby Correa Pacherres',NULL,'2026-02-19 23:35:30',1,'CERRADO','2026-02-21 00:00:00','2026-02-19 18:36:42'),(150,'2026-02-20','Dia','APOYO_HORAS',NULL,'POR_TRABAJADOR',1,'Yorby Correa Pacherres',NULL,'2026-02-20 16:22:00',1,'CERRADO','2026-02-21 00:00:00','2026-02-20 11:23:30'),(151,'2026-02-23','Dia','SANEAMIENTO',NULL,'SANEAMIENTO',12,'Nima Mendoza Ivan Alexander',NULL,'2026-02-23 20:28:37',1,'CERRADO','2026-02-24 15:28:37','2026-02-23 15:29:46'),(152,'2026-02-23','Dia','TRABAJO_AVANCE',NULL,'POR_CUADRILLA',9,'Melissa Serna Flores',NULL,'2026-02-24 00:49:13',1,'ABIERTO',NULL,NULL),(153,'2026-02-23','Dia','APOYO_HORAS',NULL,'POR_TRABAJADOR',9,'Melissa Serna Flores',NULL,'2026-02-24 00:51:37',1,'ABIERTO','2026-02-24 00:00:00',NULL),(154,'2026-02-23','Noche','CONTEO_RAPIDO',NULL,'POR_AREAS',9,'Melissa Serna Flores',NULL,'2026-02-24 01:48:36',1,'CERRADO',NULL,'2026-02-23 20:54:00'),(155,'2026-02-24','Noche','TRABAJO_AVANCE',NULL,'POR_CUADRILLA',9,'Melissa Serna Flores',NULL,'2026-02-24 10:05:02',1,'ABIERTO',NULL,NULL),(156,'2026-02-24','Dia','TRABAJO_AVANCE',NULL,'POR_CUADRILLA',9,'Melissa Serna Flores',NULL,'2026-02-24 10:05:08',1,'ABIERTO',NULL,NULL),(157,'2026-02-24','Noche','SANEAMIENTO',NULL,'SANEAMIENTO',11,'Curay Floriano Luis Martin',NULL,'2026-02-24 23:44:49',1,'CERRADO','2026-02-25 18:44:49','2026-02-25 10:09:04'),(158,'2026-02-24','Noche','CONTEO_RAPIDO',NULL,'POR_AREAS',9,'Melissa Serna Flores',NULL,'2026-02-25 02:05:56',1,'CERRADO',NULL,'2026-02-24 21:09:07');
/*!40000 ALTER TABLE `reportes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `roles`
--

DROP TABLE IF EXISTS `roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `roles` (
  `id` int NOT NULL AUTO_INCREMENT,
  `codigo` enum('SANEAMIENTO','PLANILLERO','ADMINISTRADOR') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `descripcion` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `codigo` (`codigo`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `roles`
--

LOCK TABLES `roles` WRITE;
/*!40000 ALTER TABLE `roles` DISABLE KEYS */;
INSERT INTO `roles` VALUES (1,'SANEAMIENTO','Usuario de saneamiento'),(2,'PLANILLERO','Usuario de Planillas'),(3,'ADMINISTRADOR','Administrador del sistema');
/*!40000 ALTER TABLE `roles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `trabajadores`
--

DROP TABLE IF EXISTS `trabajadores`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `trabajadores` (
  `id` int NOT NULL AUTO_INCREMENT,
  `codigo` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `nombre_completo` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `dni` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sexo` varchar(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `activo` tinyint(1) DEFAULT '1',
  `creado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `actualizado_en` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `codigo` (`codigo`),
  KEY `idx_trabajadores_nombre` (`nombre_completo`)
) ENGINE=InnoDB AUTO_INCREMENT=17184 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `trabajadores`
--

LOCK TABLES `trabajadores` WRITE;
/*!40000 ALTER TABLE `trabajadores` DISABLE KEYS */;
INSERT INTO `trabajadores` VALUES (17124,'29538','YORBY NOEL CORREA PACHERRES','75135532','M',1,'2026-02-19 20:35:11','2026-02-19 20:35:11'),(17125,'12807','ARTEMIO CRUZ OCHOA','48750777','M',1,'2026-02-19 22:38:08','2026-02-19 22:38:08'),(17126,'17507','BELTRAN PAZ CORDOVA','03128306','M',1,'2026-02-19 23:35:35','2026-02-19 23:35:35'),(17127,'28293','IVAN ALEXANDER NIMA MENDOZA','79136144','M',1,'2026-02-23 20:29:01','2026-02-23 20:29:01'),(17128,'29449','JIM KEVIN HUERTAS AGUILAR','75553757','M',1,'2026-02-24 00:49:32','2026-02-24 00:49:32'),(17129,'11266','EDINSON MOISES SOSA TINEO','48657341','M',1,'2026-02-24 01:05:24','2026-02-24 01:05:24'),(17130,'08758','MANUEL HILDEBRANDO CUMBICUS GARCIA','02735020','M',1,'2026-02-24 01:10:48','2026-02-24 01:10:48'),(17131,'24466','DUBER ANTHONY ATOCHE FLOREANO','48578178','M',1,'2026-02-24 01:10:56','2026-02-24 01:10:56'),(17132,'20911','ALEX ROMERO CUNYARACHE','48182038','M',1,'2026-02-24 01:11:01','2026-02-24 01:11:01'),(17133,'09119','JOSE FAUSTINO MARIÑAS CARRASCO','03648237','M',1,'2026-02-24 01:11:05','2026-02-24 01:11:05'),(17134,'12599','PEDRO MANCHAY PEÑA','48004788','M',1,'2026-02-24 01:11:09','2026-02-24 01:11:09'),(17135,'23849','CARLOS CRISTHOFER BERRU VELIZ','48839233','M',1,'2026-02-24 01:11:12','2026-02-24 01:11:12'),(17136,'19394','KEVIN OCTONIER CASTILLO CAMACHO','75750933','M',1,'2026-02-24 01:11:15','2026-02-24 01:11:15'),(17137,'09274','JOSE LUIS URBINA GUTIERREZ','03665084','M',1,'2026-02-24 01:11:18','2026-02-24 01:11:18'),(17138,'06654','YECKLI GUARNIZO YANAYACO','45084537','M',1,'2026-02-24 01:11:23','2026-02-24 01:11:23'),(17139,'23694','ISAI CASTILLO CAMACHO','75957132','M',1,'2026-02-24 01:11:46','2026-02-24 01:11:46'),(17140,'34664','EDDY JOSETH RUIZ RIVERA','61021779','M',1,'2026-02-24 01:11:54','2026-02-24 01:11:54'),(17141,'22497','CRISTHIAN JERSON CARRANZA RAMOS','74592303','M',1,'2026-02-24 01:12:08','2026-02-24 01:12:08'),(17142,'04575','JORGE LUIS PANTA PERALTA','42408525','M',1,'2026-02-24 01:12:53','2026-02-24 01:12:53'),(17143,'21562','EDWIN YOQSAN PAUCAR JIMENEZ','45589575','M',1,'2026-02-24 01:13:03','2026-02-24 01:13:03'),(17144,'04527','JULIO CESAR AGUILAR RUGEL','80227371','M',1,'2026-02-24 01:13:29','2026-02-24 01:13:29'),(17145,'00488','EXEQUIEL SANTOS LAZO','03862829','M',1,'2026-02-24 01:13:58','2026-02-24 01:13:58'),(17146,'13109','WALTER RUBEN CARRANZA GARCIA','80318473','M',1,'2026-02-24 01:14:45','2026-02-24 01:14:45'),(17147,'04576','CARLOS MARTIN PANTA PACHERRES','42443500','M',1,'2026-02-24 01:14:51','2026-02-24 01:14:51'),(17148,'15265','JUAN CARLOS PEÑA IPANAQUE','62674359','M',1,'2026-02-24 01:15:17','2026-02-24 01:15:17'),(17149,'20915','CESAR RAFAEL ZAPATA HERRERA','42620568','M',1,'2026-02-24 01:17:13','2026-02-24 01:17:13'),(17150,'28202','JANELLI GIANCARLA PAULINI FLOREANO','03900920','F',1,'2026-02-24 01:17:46','2026-02-24 01:17:46'),(17151,'32000','JOSE YSRRAEL VEGA YNFANTE','41315372','M',1,'2026-02-24 23:45:21','2026-02-24 23:45:21'),(17152,'32441','DIANA LISBETH QUISPE CHAVEZ','48450488','F',1,'2026-02-24 23:46:45','2026-02-24 23:46:45'),(17153,'02074','LUZ MARIA CHAVEZ SUAREZ','80498081','F',1,'2026-02-24 23:47:30','2026-02-24 23:47:30'),(17154,'30046','LUIS MORALES AGURTO','63076604','M',1,'2026-02-24 23:47:56','2026-02-24 23:47:56'),(17155,'31392','MARCOS ANTHONY HUAMAN SOLANO','74777296','M',1,'2026-02-24 23:48:33','2026-02-24 23:48:33'),(17156,'12093','JESUS ALBERTO SOSA CHERO','03675785','M',1,'2026-02-24 23:49:13','2026-02-24 23:49:13'),(17157,'28989','SIGNI LOHANA FLORES VALDIVIEZO','76134332','F',1,'2026-02-24 23:49:45','2026-02-24 23:49:45'),(17158,'34504','ROSA ELIZABETH ESPINOZA CRUZ','40628195','F',1,'2026-02-24 23:50:33','2026-02-24 23:50:33'),(17159,'08053','ELMO CASTILLO CHUQUIHUANGA','48278667','M',1,'2026-02-25 00:42:23','2026-02-25 00:42:23'),(17160,'00455','JOSE RICARDO ATOCHE CALERO','45060152','M',1,'2026-02-25 00:45:49','2026-02-25 00:45:49'),(17161,'26752','MIGUEL ANGEL IPANAQUE MORE','77326085','M',1,'2026-02-25 00:45:54','2026-02-25 00:45:54'),(17162,'00736','ARCESIO TRONCOS CANGO','03493597','M',1,'2026-02-25 00:46:18','2026-02-25 00:46:18'),(17163,'19552','ANDERSON DANIEL TRONCOS REYES','77919809','M',1,'2026-02-25 00:46:48','2026-02-25 00:46:48'),(17164,'01672','MARCO ANTONIO CARMEN SOTELO','45571415','M',1,'2026-02-25 00:48:12','2026-02-25 00:48:12'),(17165,'00032','JESUS ALBERTO CARMEN SOTELO','80264449','M',1,'2026-02-25 00:48:17','2026-02-25 00:48:17'),(17166,'00161','JORGE LUIS PULACHE CHUYES','40015610','M',1,'2026-02-25 00:48:49','2026-02-25 00:48:49'),(17167,'22130','JEAN CARLOS NAVARRO AQUINO','75052118','M',1,'2026-02-25 00:49:05','2026-02-25 00:49:05'),(17168,'04880','MARCO ANTONIO ALAMA CORDOVA','80263538','M',1,'2026-02-25 00:49:09','2026-02-25 00:49:09'),(17169,'15268','JERSON ANTONIO ANDRADE AREVALO','75121597','M',1,'2026-02-25 00:50:05','2026-02-25 00:50:05'),(17170,'22544','FRANKLIN ALBERTO SAGUMA MERINO','47200739','M',1,'2026-02-25 00:50:51','2026-02-25 00:50:51'),(17171,'00101','LUIS JUAREZ CARMEN','03670662','M',1,'2026-02-25 00:50:59','2026-02-25 00:50:59'),(17172,'00810','DEYVI ALEXANDER PULACHE DIAZ','47096624','M',1,'2026-02-25 00:52:36','2026-02-25 00:52:36'),(17173,'00159','CARLOS JAVIER PULACHE CHUYES','41821179','M',1,'2026-02-25 00:53:05','2026-02-25 00:53:05'),(17174,'31582','JHON ALEX CORONADO PULACHE','73698751','M',1,'2026-02-25 00:53:09','2026-02-25 00:53:09'),(17175,'00207','CARLOS ENRIQUE TINEO NAVARRO','45238824','M',1,'2026-02-25 00:53:13','2026-02-25 00:53:13'),(17176,'00050','ALEJANDRO CORONADO ORDINOLA','03491936','M',1,'2026-02-25 00:55:03','2026-02-25 00:55:03'),(17177,'11280','JESUS JEAN CARLOS PANTA PULACHE','46744834','M',1,'2026-02-25 00:56:16','2026-02-25 00:56:16'),(17178,'00914','JULIO CESAR SIANCAS GIRON','46506970','M',1,'2026-02-25 00:58:44','2026-02-25 00:58:44'),(17179,'03223','AMILTON ARICA LOPEZ','43270974','M',1,'2026-02-25 00:58:54','2026-02-25 00:58:54'),(17180,'00371','DARWIN JOEL PANTA PERALTA','44557395','M',1,'2026-02-25 01:00:43','2026-02-25 01:00:43'),(17181,'16079','JUAN JIMENEZ CRIOLLO','03671439','M',1,'2026-02-25 01:01:50','2026-02-25 01:01:50'),(17182,'00457','EDGAR JUAREZ JARAMILLO','41600864','M',1,'2026-02-25 01:06:06','2026-02-25 01:06:06'),(17183,'06526','DAVID ATOCHE PALACIOS','46519502','M',1,'2026-02-25 01:10:44','2026-02-25 01:10:44');
/*!40000 ALTER TABLE `trabajadores` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `trabajo_avance_cuadrillas`
--

DROP TABLE IF EXISTS `trabajo_avance_cuadrillas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `trabajo_avance_cuadrillas` (
  `id` int NOT NULL AUTO_INCREMENT,
  `reporte_id` int NOT NULL,
  `tipo` enum('RECEPCION','FILETEADO','APOYO_RECEPCION') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `nombre` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `hora_inicio` time DEFAULT NULL,
  `hora_fin` time DEFAULT NULL,
  `produccion_kg` decimal(10,2) DEFAULT '0.00',
  `apoyo_de_cuadrilla_id` int DEFAULT NULL,
  `creado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `actualizado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `apoyo_scope` enum('GLOBAL','CUADRILLA') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_reporte` (`reporte_id`),
  KEY `idx_tipo` (`tipo`),
  KEY `fk_ta_apoyo` (`apoyo_de_cuadrilla_id`),
  CONSTRAINT `fk_ta_apoyo` FOREIGN KEY (`apoyo_de_cuadrilla_id`) REFERENCES `trabajo_avance_cuadrillas` (`id`) ON DELETE SET NULL,
  CONSTRAINT `fk_ta_reporte` FOREIGN KEY (`reporte_id`) REFERENCES `reportes` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `trabajo_avance_cuadrillas`
--

LOCK TABLES `trabajo_avance_cuadrillas` WRITE;
/*!40000 ALTER TABLE `trabajo_avance_cuadrillas` DISABLE KEYS */;
INSERT INTO `trabajo_avance_cuadrillas` VALUES (44,142,'RECEPCION','jskska',NULL,NULL,0.00,NULL,'2026-02-18 19:46:29','2026-02-18 19:46:29',NULL),(45,144,'RECEPCION','fdd',NULL,NULL,0.00,NULL,'2026-02-19 14:28:04','2026-02-19 14:28:04',NULL),(46,152,'RECEPCION','cheque',NULL,NULL,0.00,NULL,'2026-02-24 00:49:21','2026-02-24 00:49:21',NULL),(47,152,'FILETEADO','koky',NULL,NULL,0.00,NULL,'2026-02-24 00:49:26','2026-02-24 00:49:26',NULL),(48,155,'RECEPCION','macario',NULL,NULL,0.00,NULL,'2026-02-25 00:42:15','2026-02-25 00:42:15',NULL),(49,155,'FILETEADO','caras',NULL,NULL,0.00,NULL,'2026-02-25 00:42:19','2026-02-25 00:42:19',NULL);
/*!40000 ALTER TABLE `trabajo_avance_cuadrillas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `trabajo_avance_trabajadores`
--

DROP TABLE IF EXISTS `trabajo_avance_trabajadores`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `trabajo_avance_trabajadores` (
  `id` int NOT NULL AUTO_INCREMENT,
  `cuadrilla_id` int NOT NULL,
  `trabajador_codigo` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `trabajador_nombre` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `kg` decimal(10,2) DEFAULT NULL,
  `creado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_cuadrilla_codigo` (`cuadrilla_id`,`trabajador_codigo`),
  KEY `idx_cuadrilla` (`cuadrilla_id`),
  CONSTRAINT `fk_ta_cuadrilla` FOREIGN KEY (`cuadrilla_id`) REFERENCES `trabajo_avance_cuadrillas` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=207 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `trabajo_avance_trabajadores`
--

LOCK TABLES `trabajo_avance_trabajadores` WRITE;
/*!40000 ALTER TABLE `trabajo_avance_trabajadores` DISABLE KEYS */;
INSERT INTO `trabajo_avance_trabajadores` VALUES (158,45,'29538','YORBY NOEL CORREA PACHERRES',NULL,'2026-02-19 20:35:11'),(159,47,'29449','JIM KEVIN HUERTAS AGUILAR',NULL,'2026-02-24 00:49:32'),(160,46,'11266','EDINSON MOISES SOSA TINEO',NULL,'2026-02-24 01:05:24'),(161,47,'08758','MANUEL HILDEBRANDO CUMBICUS GARCIA',NULL,'2026-02-24 01:10:48'),(162,47,'24466','DUBER ANTHONY ATOCHE FLOREANO',NULL,'2026-02-24 01:10:56'),(163,47,'20911','ALEX ROMERO CUNYARACHE',NULL,'2026-02-24 01:11:01'),(164,47,'09119','JOSE FAUSTINO MARIÑAS CARRASCO',NULL,'2026-02-24 01:11:05'),(165,47,'12599','PEDRO MANCHAY PEÑA',NULL,'2026-02-24 01:11:09'),(166,47,'23849','CARLOS CRISTHOFER BERRU VELIZ',NULL,'2026-02-24 01:11:12'),(167,47,'19394','KEVIN OCTONIER CASTILLO CAMACHO',NULL,'2026-02-24 01:11:15'),(168,47,'09274','JOSE LUIS URBINA GUTIERREZ',NULL,'2026-02-24 01:11:18'),(169,47,'06654','YECKLI GUARNIZO YANAYACO',NULL,'2026-02-24 01:11:23'),(170,47,'23694','ISAI CASTILLO CAMACHO',NULL,'2026-02-24 01:11:46'),(171,47,'34664','EDDY JOSETH RUIZ RIVERA',NULL,'2026-02-24 01:11:54'),(172,47,'22497','CRISTHIAN JERSON CARRANZA RAMOS',NULL,'2026-02-24 01:12:08'),(173,47,'04575','JORGE LUIS PANTA PERALTA',NULL,'2026-02-24 01:12:53'),(174,47,'21562','EDWIN YOQSAN PAUCAR JIMENEZ',NULL,'2026-02-24 01:13:03'),(175,46,'04527','JULIO CESAR AGUILAR RUGEL',NULL,'2026-02-24 01:13:29'),(176,46,'00488','EXEQUIEL SANTOS LAZO',NULL,'2026-02-24 01:13:58'),(177,47,'13109','WALTER RUBEN CARRANZA GARCIA',NULL,'2026-02-24 01:14:45'),(178,47,'04576','CARLOS MARTIN PANTA PACHERRES',NULL,'2026-02-24 01:14:51'),(179,47,'15265','JUAN CARLOS PEÑA IPANAQUE',NULL,'2026-02-24 01:15:17'),(180,47,'20915','CESAR RAFAEL ZAPATA HERRERA',NULL,'2026-02-24 01:17:13'),(181,49,'08053','ELMO CASTILLO CHUQUIHUANGA',NULL,'2026-02-25 00:42:23'),(182,48,'00455','JOSE RICARDO ATOCHE CALERO',NULL,'2026-02-25 00:45:49'),(183,48,'26752','MIGUEL ANGEL IPANAQUE MORE',NULL,'2026-02-25 00:45:54'),(184,49,'00736','ARCESIO TRONCOS CANGO',NULL,'2026-02-25 00:46:18'),(185,49,'19552','ANDERSON DANIEL TRONCOS REYES',NULL,'2026-02-25 00:46:48'),(186,49,'01672','MARCO ANTONIO CARMEN SOTELO',NULL,'2026-02-25 00:48:12'),(187,49,'00032','JESUS ALBERTO CARMEN SOTELO',NULL,'2026-02-25 00:48:17'),(188,49,'00161','JORGE LUIS PULACHE CHUYES',NULL,'2026-02-25 00:48:49'),(189,49,'22130','JEAN CARLOS NAVARRO AQUINO',NULL,'2026-02-25 00:49:05'),(190,49,'04880','MARCO ANTONIO ALAMA CORDOVA',NULL,'2026-02-25 00:49:09'),(191,49,'15268','JERSON ANTONIO ANDRADE AREVALO',NULL,'2026-02-25 00:50:05'),(193,49,'00101','LUIS JUAREZ CARMEN',NULL,'2026-02-25 00:50:59'),(194,48,'22544','FRANKLIN ALBERTO SAGUMA MERINO',NULL,'2026-02-25 00:51:56'),(195,49,'00810','DEYVI ALEXANDER PULACHE DIAZ',NULL,'2026-02-25 00:52:36'),(196,49,'00159','CARLOS JAVIER PULACHE CHUYES',NULL,'2026-02-25 00:53:05'),(197,49,'31582','JHON ALEX CORONADO PULACHE',NULL,'2026-02-25 00:53:09'),(198,49,'00207','CARLOS ENRIQUE TINEO NAVARRO',NULL,'2026-02-25 00:53:13'),(199,49,'00050','ALEJANDRO CORONADO ORDINOLA',NULL,'2026-02-25 00:55:03'),(200,49,'11280','JESUS JEAN CARLOS PANTA PULACHE',NULL,'2026-02-25 00:56:16'),(201,49,'00914','JULIO CESAR SIANCAS GIRON',NULL,'2026-02-25 00:58:44'),(202,48,'03223','AMILTON ARICA LOPEZ',NULL,'2026-02-25 00:58:54'),(203,49,'00371','DARWIN JOEL PANTA PERALTA',NULL,'2026-02-25 01:00:43'),(204,49,'16079','JUAN JIMENEZ CRIOLLO',NULL,'2026-02-25 01:01:50'),(205,49,'00457','EDGAR JUAREZ JARAMILLO',NULL,'2026-02-25 01:06:06'),(206,49,'06526','DAVID ATOCHE PALACIOS',NULL,'2026-02-25 01:10:44');
/*!40000 ALTER TABLE `trabajo_avance_trabajadores` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user_roles`
--

DROP TABLE IF EXISTS `user_roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `user_roles` (
  `user_id` int NOT NULL,
  `role_id` int NOT NULL,
  PRIMARY KEY (`user_id`,`role_id`),
  KEY `role_id` (`role_id`),
  CONSTRAINT `user_roles_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  CONSTRAINT `user_roles_ibfk_2` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user_roles`
--

LOCK TABLES `user_roles` WRITE;
/*!40000 ALTER TABLE `user_roles` DISABLE KEYS */;
INSERT INTO `user_roles` VALUES (11,1),(12,1),(13,1),(9,2),(10,2),(1,3),(14,3);
/*!40000 ALTER TABLE `user_roles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `users` (
  `id` int NOT NULL AUTO_INCREMENT,
  `username` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `password_hash` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `nombre` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `activo` tinyint(1) DEFAULT (1),
  `creado_en` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES (1,'admin','$2a$10$pYRtKQyzJqeZqW900dxpcOVuKq5Wf4labF2li.1E9jKfIfvY8m0RK','Yorby Correa Pacherres',1,'2026-02-18 14:29:00'),(9,'62288521','$2b$10$MjDZTo/2mV3S6VE0tUbdmOjJkOHUs9X8c8W60sVZV7KqwabXChpp6','Melissa Serna Flores',1,'2026-02-18 17:01:01'),(10,'74657155','$2b$10$Yjt.bng3s2KNxEt7H0qh/eVYLs5Ie2jmMNazQUYNOEFtAYXrojcMK','Ivan Rivera Genell',1,'2026-02-18 17:05:25'),(11,'42093186','$2b$10$KnpGCAxTrwuTtPqCpEpUPO0z4YHaIZOfQya0K0ObrZBAWOokI77G6','Curay Floriano Luis Martin',1,'2026-02-18 17:08:41'),(12,'79136144','$2b$10$dCIiluPtgbxYRq.oA7PB1Oc69rzzJ0q4rITdx40akVMoR/MirCNYK','Nima Mendoza Ivan Alexander',1,'2026-02-18 17:10:13'),(13,'48750777','$2b$10$KrxdROQ2RcrrB3UWJYVnAOuxAKQ/nMxFSHFlF/vfrreRwDSGhDc8K','Cruz Ochoa Artemio',1,'2026-02-18 17:10:50'),(14,'03501117','$2b$10$3DOI4eamxiocYnbzS6fJ9u21YS3DyCDA/YXKow8WaHWsYmkrc2U7S','Rony Alban Agurto',1,'2026-02-19 21:14:50');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2026-02-25 10:52:59
